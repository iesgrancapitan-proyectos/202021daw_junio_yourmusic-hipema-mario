{% extends "base_user_account.html" %} {% block content %}
<h2>Conversación con {{otroUsuario}}</h2>
{% for row in mensajes %}
<div class="mensajes">
    {% if row.emisor == usuario %}
    <!-- Mensaje del usuario -->
    <div class="mensajeUsuario">
        <div class="mensaje">
            <div class="texto-reducido">{{row.emisor}} - {{row.date_posted}}</div>
            <h3 id="titulo">{{row.title}}</h3>
            <div id="mensaje">{{row.text}}</div>
        </div>
    </div>
    {% else %}
    <!-- Mensaje del otro usuario -->
    <div class="mensajeOtro">
        <div class="mensaje">
            <div class="texto-reducido">{{row.emisor}} - {{row.date_posted}}</div>
            <h3 id="titulo">{{row.title}}</h3>
            <div id="mensaje">{{row.text}}</div>
        </div>
    </div> {% endif %}

</div> {% endfor %} {% include "partials/pagination.html" with page_obj=mensajes %}
<!-- TODO: Estaría bien dar estilo al form de manera que se diferencie la parte de id=mensajes, con form -->
<!-- TODO:Validar que se rellenan todos los campos -->
<!-- TODO: Si te parece podemos limitar el número de caractéres -->
<div class="formulario-mensajes">
    <div class="titulo-noticia">Responder:</div>
    <form method="post">
        {% csrf_token %}
        <div class="usuario-mensaje">Título</div>
        <!-- TODO2: Aquí sería interesante que el título fuese Re: XXX donde esto sea el título del último mensaje -->
        <div><input class="input-mensajes" type="text" placeholder="título" name="title" id=""></div>
        <div class="usuario-mensaje">Mensaje</div>
        <div><textarea class="input-mensajes" name="text" placeholder="Mensaje para {{otroUsuario}}..." id="text" cols="30" rows="10"></textarea></div>
        <div><input class="btn btn-black" type="submit" value="Enviar"></div>
    </form>
</div>


{% endblock %}